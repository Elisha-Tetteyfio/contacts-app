
<%= simple_form_for(@contact) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-input" data-controller="region">

    <%= f.input :fname, label: "First name" %>
    <%= f.input :lname, label: "Last name" %>
    <%= f.input :phone, label: "Phone number" %>
    <%= f.input :birth_date, label: "Date of birth" %>
    <%= f.input :email %>

    <div class="form-group">
    <%= f.label "Region "%>
      <%= f.select :region_id, 
      options_from_collection_for_select(@regions, "id", "name", @region&.id),
      {prompt: "Select a region"}, 
      {data: {action: "change->region#change"},
      selected: @region, class: "form-select"} %>
    </div>
    <div class="form-group">
    <%= f.label "City "%>
      <%= f.select :city_id,
      options_from_collection_for_select(@cities, "id", "name", @city&.id),
       {prompt: "Select a city"} ,
       {id: "city-select", readonly: :true, data: {action: "change->region#change1"}, class: "form-select" }%>
    </div>
    <div class="form-group">
      <%= f.input :suburb_id, collection: @suburbs, prompt: "Select a suburb" , 
      input_html: { id: "suburb-select", readonly: :true }, selected: @suburb&.id %>
      
    </div>
    <button type="submit" class="btn">
      Submit
    </button>
    
  </div>
<% end %>
